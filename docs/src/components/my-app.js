define(["exports","require"],function(_exports,_require){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.renderAttributes=renderAttributes;_exports.classString=classString;_exports.styleString=styleString;_exports.dashToCamelCase=dashToCamelCase;_exports.camelToDashCase=camelToDashCase;_exports.render$2=_exports.render=render;_exports.repeat=repeat;_exports.render$1=render$1;_exports.defaultTemplateFactory=defaultTemplateFactory;_exports.$_baseGetTagDefault=baseGetTag;_exports.$_getRawTagDefault=getRawTag;_exports.$_objectToStringDefault=objectToString;_exports.$_overArgDefault=overArg;_exports.$isObjectLikeDefault=isObjectLike;_exports.$isPlainObjectDefault=isPlainObject;_exports.applyMiddleware=_exports.$applyMiddlewareDefault=applyMiddleware;_exports.bindActionCreators=_exports.$bindActionCreatorsDefault=bindActionCreators;_exports.combineReducers=_exports.$combineReducersDefault=combineReducers;_exports.compose=_exports.$composeDefault=compose;_exports.createStore=_exports.$createStoreDefault=createStore;_exports.$warningDefault=warning;_exports.$ponyfillDefault=symbolObservablePonyfill;_exports.saveShowSettings=_exports.saveShowAnswer=_exports.updateOffline=_exports.showSnackbar=_exports.navigate=_exports.LOAD_STATS=_exports.SAVE_SAY_SETTINGS=_exports.SAVE_SHOW_SETTINGS=_exports.SAVE_SHOW_ANSWER=_exports.CLOSE_SNACKBAR=_exports.OPEN_SNACKBAR=_exports.UPDATE_OFFLINE=_exports.UPDATE_PAGE=_exports.$indexDefault$1=_exports.ActionTypes=_exports.$indexDefault=_exports.installRouter=_exports.installOfflineWatcher=_exports.updateMetadata=_exports.connect=_exports.$_rootDefault=_exports.$_getPrototypeDefault=_exports.$_freeGlobalDefault=_exports.$_SymbolDefault=_exports.removeNodes=_exports.reparentNodes=_exports.TemplateInstance=_exports.defaultPartCallback=_exports.NodePart=_exports.AttributePart=_exports.directiveValue=_exports.directive=_exports.getValue=_exports.Template=_exports.TemplatePart=_exports.SVGTemplateResult=_exports.templateCaches=_exports.TemplateResult$1=_exports.TemplateResult=_exports.svg$2=_exports.svg$1=_exports.html$3=_exports.html$2=_exports.EventPart=_exports.PropertyPart=_exports.BooleanAttributePart=_exports.extendedPartCallback=_exports.svg=_exports.dedupingMixin=_exports.microTask=_exports.idlePeriod=_exports.animationFrame=_exports.timeOut=_exports.PropertiesMixin=_exports.PropertiesChanged=_exports.LitElement=_exports.html$1=_exports.html=_exports.$store=_exports.$data$1=_exports.$app$1=_exports.$localStorage=_exports.$sharedStyles=_exports.$pageViewElement=_exports.$data=_exports.$app=_exports.$ponyfill=_exports.$index$2=_exports.$warning=_exports.$index$1=_exports.$createStore=_exports.$compose=_exports.$combineReducers=_exports.$bindActionCreators=_exports.$applyMiddleware=_exports.$index=_exports.$router=_exports.$network=_exports.$metadata=_exports.$connectMixin=_exports.$isPlainObject=_exports.$isObjectLike=_exports.$_root=_exports.$_overArg=_exports.$_objectToString=_exports.$_getRawTag=_exports.$_getPrototype=_exports.$_freeGlobal=_exports.$_baseGetTag=_exports.$_Symbol=_exports.$litHtml=_exports.$shadyRender=_exports.$repeat=_exports.$litExtended=_exports.$mixin=_exports.$caseMap=_exports.$async=_exports.$propertiesMixin=_exports.$propertiesChanged=_exports.$litElement=void 0;_exports.store=_exports.$dataDefault=_exports.$appDefault=_exports.loadState=_exports.saveState=_exports.SharedStyles=_exports.PageViewElement=_exports.saveAvailableTypes=_exports.getWrong=_exports.getRight=_exports.showNewCard=_exports.loadAll=_exports.SAVE_CHOICES=_exports.GET_WRONG=_exports.GET_RIGHT=_exports.SHOW_CARD=_exports.UPDATE_CARDS=_exports.saveSaySettings=void 0;_require=babelHelpers.interopRequireWildcard(_require);var _Mathfloor=Math.floor;window.JSCompiler_renameProperty=function(prop){return prop};let dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications;MixinFunction.prototype.__mixinSet;const dedupingMixin=function(mixin){let mixinApplications=mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;mixin.__mixinApplications=mixinApplications}let mixinDedupeId=dedupeId++;function dedupingMixin(base){let baseSet=base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}let map=mixinApplications,extended=map.get(base);if(!extended){extended=mixin(base);map.set(base,extended)}let mixinSet=Object.create(extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;extended.__mixinSet=mixinSet;return extended}return dedupingMixin};_exports.dedupingMixin=dedupingMixin;_exports.$mixin={dedupingMixin:dedupingMixin};let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode("");new window.MutationObserver(function(){const len=microtaskCallbacks.length;for(let i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(()=>{throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}).observe(microtaskNode,{characterData:!0});const timeOut={after(delay){return{run(fn){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}}},run(fn,delay){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}};_exports.timeOut=timeOut;const animationFrame={run(fn){return window.requestAnimationFrame(fn)},cancel(handle){window.cancelAnimationFrame(handle)}};_exports.animationFrame=animationFrame;const idlePeriod={run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}};_exports.idlePeriod=idlePeriod;const microTask={run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},cancel(handle){const idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error("invalid async handle: "+handle)}microtaskCallbacks[idx]=null}}};_exports.microTask=microTask;_exports.$async={timeOut:timeOut,animationFrame:animationFrame,idlePeriod:idlePeriod,microTask:microTask};const PropertiesChanged=dedupingMixin(superClass=>{return class extends superClass{static createProperties(props){const proto=this.prototype;for(let prop in props){if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}static attributeNameForProperty(property){return property.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty("__dataHasAccessor")){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}_addPropertyToAttributeMap(property){if(!this.hasOwnProperty("__dataAttributes")){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){const attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}_definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{get(){return this._getProperty(property)},set:readOnly?function(){}:function(value){this._setProperty(property,value)}})}constructor(){super();this.__dataEnabled=!1;this.__dataReady=!1;this.__dataInvalid=!1;this.__data={};this.__dataPending=null;this.__dataOld=null;this.__dataInstanceProps=null;this.__serializing=!1;this._initializeProperties()}ready(){this.__dataReady=!0;this._flushProperties()}_initializeProperties(){for(let p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}_initializeInstanceProperties(props){Object.assign(this,props)}_setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}_getProperty(property){return this.__data[property]}_setPendingProperty(property,value){let old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}_invalidateProperties(){if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microTask.run(()=>{if(this.__dataInvalid){this.__dataInvalid=!1;this._flushProperties()}})}}_enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}_flushProperties(){const props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}_shouldPropertiesChange(currentProps,changedProps){return!!changedProps}_propertiesChanged(){}_shouldPropertyChange(property,value,old){return old!==value&&(old===old||value===value)}attributeChangedCallback(name,old,value,namespace){if(old!==value){this._attributeToProperty(name,value)}if(super.attributeChangedCallback){super.attributeChangedCallback(name,old,value,namespace)}}_attributeToProperty(attribute,value,type){if(!this.__serializing){const map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}_propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}_valueToNodeAttribute(node,value,attribute){const str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}_serializeValue(value){switch(typeof value){case"boolean":return value?"":void 0;default:return null!=value?value.toString():void 0;}}_deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}});_exports.PropertiesChanged=PropertiesChanged;_exports.$propertiesChanged={PropertiesChanged:PropertiesChanged};function normalizeProperties(props){const output={};for(let p in props){const o=props[p];output[p]="function"===typeof o?{type:o}:o}return output}const PropertiesMixin=dedupingMixin(superClass=>{const base=PropertiesChanged(superClass);function superPropertiesClass(constructor){const superCtor=Object.getPrototypeOf(constructor);return superCtor.prototype instanceof PropertiesMixin?superCtor:null}function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",constructor))){let props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty("properties",constructor))&&constructor.properties){props=normalizeProperties(constructor.properties)}constructor.__ownProperties=props}return constructor.__ownProperties}class PropertiesMixin extends base{static get observedAttributes(){const props=this._properties;return props?Object.keys(props).map(p=>this.attributeNameForProperty(p)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const superCtor=superPropertiesClass(this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}static _finalizeClass(){const props=ownProperties(this);if(props){this.createProperties(props)}}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const superCtor=superPropertiesClass(this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(this))}return this.__properties}static typeForProperty(name){const info=this._properties[name];return info&&info.type}_initializeProperties(){this.constructor.finalize();super._initializeProperties()}connectedCallback(){if(super.connectedCallback){super.connectedCallback()}this._enableProperties()}disconnectedCallback(){if(super.disconnectedCallback){super.disconnectedCallback()}}}return PropertiesMixin});_exports.PropertiesMixin=PropertiesMixin;_exports.$propertiesMixin={PropertiesMixin:PropertiesMixin};const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g;function dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf("-")?dash:dash.replace(DASH_TO_CAMEL,m=>m[1].toUpperCase()))}function camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,"-$1").toLowerCase())}_exports.$caseMap={dashToCamelCase:dashToCamelCase,camelToDashCase:camelToDashCase};const templateCaches=new Map;_exports.templateCaches=templateCaches;const html=(strings,...values)=>new TemplateResult(strings,values,"html");_exports.html$3=_exports.html$2=html;const svg=(strings,...values)=>new SVGTemplateResult(strings,values,"svg");_exports.svg$2=_exports.svg$1=svg;class TemplateResult{constructor(strings,values,type,partCallback=defaultPartCallback){this.strings=strings;this.values=values;this.type=type;this.partCallback=partCallback}getHTML(){const l=this.strings.length-1;let html="",isTextBinding=!0;for(let i=0;i<l;i++){const s=this.strings[i];html+=s;const closing=findTagClose(s);isTextBinding=-1<closing?closing<s.length:isTextBinding;html+=isTextBinding?nodeMarker:marker}html+=this.strings[l];return html}getTemplateElement(){const template=document.createElement("template");template.innerHTML=this.getHTML();return template}}_exports.TemplateResult$1=_exports.TemplateResult=TemplateResult;class SVGTemplateResult extends TemplateResult{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const template=super.getTemplateElement(),content=template.content,svgElement=content.firstChild;content.removeChild(svgElement);reparentNodes(content,svgElement.firstChild);return template}}_exports.SVGTemplateResult=SVGTemplateResult;function defaultTemplateFactory(result){let templateCache=templateCaches.get(result.type);if(templateCache===void 0){templateCache=new Map;templateCaches.set(result.type,templateCache)}let template=templateCache.get(result.strings);if(template===void 0){template=new Template(result,result.getTemplateElement());templateCache.set(result.strings,template)}return template}function render(result,container,templateFactory=defaultTemplateFactory){const template=templateFactory(result);let instance=container.__templateInstance;if(instance!==void 0&&instance.template===template&&instance._partCallback===result.partCallback){instance.update(result.values);return}instance=new TemplateInstance(template,result.partCallback,templateFactory);container.__templateInstance=instance;const fragment=instance._clone();instance.update(result.values);removeNodes(container,container.firstChild);container.appendChild(fragment)}const marker=`{{lit-${(Math.random()+"").slice(2)}}}`,nodeMarker=`<!--${marker}-->`,markerRegex=new RegExp(`${marker}|${nodeMarker}`),lastAttributeNameRegex=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function findTagClose(str){const close=str.lastIndexOf(">"),open=str.indexOf("<",close+1);return-1<open?str.length:close}class TemplatePart{constructor(type,index,name,rawName,strings){this.type=type;this.index=index;this.name=name;this.rawName=rawName;this.strings=strings}}_exports.TemplatePart=TemplatePart;class Template{constructor(result,element){this.parts=[];this.element=element;const content=this.element.content,walker=document.createTreeWalker(content,133,null,!1);let index=-1,partIndex=0;const nodesToRemove=[];let previousNode,currentNode;while(walker.nextNode()){index++;previousNode=currentNode;const node=currentNode=walker.currentNode;if(1===node.nodeType){if(!node.hasAttributes()){continue}const attributes=node.attributes;let count=0;for(let i=0;i<attributes.length;i++){if(0<=attributes[i].value.indexOf(marker)){count++}}while(0<count--){const stringForPart=result.strings[partIndex],attributeNameInPart=lastAttributeNameRegex.exec(stringForPart)[1],attribute=attributes.getNamedItem(attributeNameInPart),stringsForAttributeValue=attribute.value.split(markerRegex);this.parts.push(new TemplatePart("attribute",index,attribute.name,attributeNameInPart,stringsForAttributeValue));node.removeAttribute(attribute.name);partIndex+=stringsForAttributeValue.length-1}}else if(3===node.nodeType){const nodeValue=node.nodeValue;if(0>nodeValue.indexOf(marker)){continue}const parent=node.parentNode,strings=nodeValue.split(markerRegex),lastIndex=strings.length-1;partIndex+=lastIndex;for(let i=0;i<lastIndex;i++){parent.insertBefore(""===strings[i]?document.createComment(""):document.createTextNode(strings[i]),node);this.parts.push(new TemplatePart("node",index++))}parent.insertBefore(""===strings[lastIndex]?document.createComment(""):document.createTextNode(strings[lastIndex]),node);nodesToRemove.push(node)}else if(8===node.nodeType&&node.nodeValue===marker){const parent=node.parentNode,previousSibling=node.previousSibling;if(null===previousSibling||previousSibling!==previousNode||previousSibling.nodeType!==Node.TEXT_NODE){parent.insertBefore(document.createComment(""),node)}else{index--}this.parts.push(new TemplatePart("node",index++));nodesToRemove.push(node);if(null===node.nextSibling){parent.insertBefore(document.createComment(""),node)}else{index--}currentNode=previousNode;partIndex++}}for(const n of nodesToRemove){n.parentNode.removeChild(n)}}}_exports.Template=Template;const getValue=(part,value)=>{if(isDirective(value)){value=value(part);return directiveValue}return null===value?void 0:value};_exports.getValue=getValue;const directive=f=>{f.__litDirective=!0;return f};_exports.directive=directive;const isDirective=o=>"function"===typeof o&&!0===o.__litDirective,directiveValue={};_exports.directiveValue=directiveValue;const isPrimitiveValue=value=>null===value||!("object"===typeof value||"function"===typeof value);class AttributePart{constructor(instance,element,name,strings){this.instance=instance;this.element=element;this.name=name;this.strings=strings;this.size=strings.length-1;this._previousValues=[]}_interpolate(values,startIndex){const strings=this.strings,l=strings.length-1;let text="";for(let i=0;i<l;i++){text+=strings[i];const v=getValue(this,values[startIndex+i]);if(v&&v!==directiveValue&&(Array.isArray(v)||"string"!==typeof v&&v[Symbol.iterator])){for(const t of v){text+=t}}else{text+=v}}return text+strings[l]}_equalToPreviousValues(values,startIndex){for(let i=startIndex;i<startIndex+this.size;i++){if(this._previousValues[i]!==values[i]||!isPrimitiveValue(values[i])){return!1}}return!0}setValue(values,startIndex){if(this._equalToPreviousValues(values,startIndex)){return}const s=this.strings;let value;if(2===s.length&&""===s[0]&&""===s[1]){value=getValue(this,values[startIndex]);if(Array.isArray(value)){value=value.join("")}}else{value=this._interpolate(values,startIndex)}if(value!==directiveValue){this.element.setAttribute(this.name,value)}this._previousValues=values}}_exports.AttributePart=AttributePart;class NodePart{constructor(instance,startNode,endNode){this.instance=instance;this.startNode=startNode;this.endNode=endNode;this._previousValue=void 0}setValue(value){value=getValue(this,value);if(value===directiveValue){return}if(isPrimitiveValue(value)){if(value===this._previousValue){return}this._setText(value)}else if(value instanceof TemplateResult){this._setTemplateResult(value)}else if(Array.isArray(value)||value[Symbol.iterator]){this._setIterable(value)}else if(value instanceof Node){this._setNode(value)}else if(value.then!==void 0){this._setPromise(value)}else{this._setText(value)}}_insert(node){this.endNode.parentNode.insertBefore(node,this.endNode)}_setNode(value){if(this._previousValue===value){return}this.clear();this._insert(value);this._previousValue=value}_setText(value){const node=this.startNode.nextSibling;value=value===void 0?"":value;if(node===this.endNode.previousSibling&&node.nodeType===Node.TEXT_NODE){node.textContent=value}else{this._setNode(document.createTextNode(value))}this._previousValue=value}_setTemplateResult(value){const template=this.instance._getTemplate(value);let instance;if(this._previousValue&&this._previousValue.template===template){instance=this._previousValue}else{instance=new TemplateInstance(template,this.instance._partCallback,this.instance._getTemplate);this._setNode(instance._clone());this._previousValue=instance}instance.update(value.values)}_setIterable(value){if(!Array.isArray(this._previousValue)){this.clear();this._previousValue=[]}const itemParts=this._previousValue;let partIndex=0;for(const item of value){let itemPart=itemParts[partIndex];if(itemPart===void 0){let itemStart=this.startNode;if(0<partIndex){const previousPart=itemParts[partIndex-1];itemStart=previousPart.endNode=document.createTextNode("");this._insert(itemStart)}itemPart=new NodePart(this.instance,itemStart,this.endNode);itemParts.push(itemPart)}itemPart.setValue(item);partIndex++}if(0===partIndex){this.clear();this._previousValue=void 0}else if(partIndex<itemParts.length){const lastPart=itemParts[partIndex-1];itemParts.length=partIndex;this.clear(lastPart.endNode.previousSibling);lastPart.endNode=this.endNode}}_setPromise(value){this._previousValue=value;value.then(v=>{if(this._previousValue===value){this.setValue(v)}})}clear(startNode=this.startNode){removeNodes(this.startNode.parentNode,startNode.nextSibling,this.endNode)}}_exports.NodePart=NodePart;const defaultPartCallback=(instance,templatePart,node)=>{if("attribute"===templatePart.type){return new AttributePart(instance,node,templatePart.name,templatePart.strings)}else if("node"===templatePart.type){return new NodePart(instance,node,node.nextSibling)}throw new Error(`Unknown part type ${templatePart.type}`)};_exports.defaultPartCallback=defaultPartCallback;class TemplateInstance{constructor(template,partCallback,getTemplate){this._parts=[];this.template=template;this._partCallback=partCallback;this._getTemplate=getTemplate}update(values){let valueIndex=0;for(const part of this._parts){if(part.size===void 0){part.setValue(values[valueIndex]);valueIndex++}else{part.setValue(values,valueIndex);valueIndex+=part.size}}}_clone(){const fragment=document.importNode(this.template.element.content,!0),parts=this.template.parts;if(0<parts.length){const walker=document.createTreeWalker(fragment,133,null,!1);let index=-1;for(let i=0;i<parts.length;i++){const part=parts[i];while(index<part.index){index++;walker.nextNode()}this._parts.push(this._partCallback(this,part,walker.currentNode))}}return fragment}}_exports.TemplateInstance=TemplateInstance;const reparentNodes=(container,start,end=null,before=null)=>{let node=start;while(node!==end){const n=node.nextSibling;container.insertBefore(node,before);node=n}};_exports.reparentNodes=reparentNodes;const removeNodes=(container,startNode,endNode=null)=>{let node=startNode;while(node!==endNode){const n=node.nextSibling;container.removeChild(node);node=n}};_exports.removeNodes=removeNodes;_exports.$litHtml={templateCaches:templateCaches,html:html,svg:svg,TemplateResult:TemplateResult,SVGTemplateResult:SVGTemplateResult,defaultTemplateFactory:defaultTemplateFactory,render:render,TemplatePart:TemplatePart,Template:Template,getValue:getValue,directive:directive,directiveValue:directiveValue,AttributePart:AttributePart,NodePart:NodePart,defaultPartCallback:defaultPartCallback,TemplateInstance:TemplateInstance,reparentNodes:reparentNodes,removeNodes:removeNodes};const shadyTemplateFactory=scopeName=>result=>{const cacheKey=`${result.type}--${scopeName}`;let templateCache=templateCaches.get(cacheKey);if(templateCache===void 0){templateCache=new Map;templateCaches.set(cacheKey,templateCache)}let template=templateCache.get(result.strings);if(template===void 0){const element=result.getTemplateElement();if("object"===typeof window.ShadyCSS){window.ShadyCSS.prepareTemplate(element,scopeName)}template=new Template(result,element);templateCache.set(result.strings,template)}return template};function render$1(result,container,scopeName){return render(result,container,shadyTemplateFactory(scopeName))}_exports.$shadyRender={render:render$1,html:html,svg:svg,TemplateResult:TemplateResult};const html$1=(strings,...values)=>new TemplateResult(strings,values,"html",extendedPartCallback);_exports.html$1=_exports.html=html$1;const svg$1=(strings,...values)=>new SVGTemplateResult(strings,values,"svg",extendedPartCallback);_exports.svg=svg$1;const extendedPartCallback=(instance,templatePart,node)=>{if("attribute"===templatePart.type){if("on-"===templatePart.rawName.substr(0,3)){const eventName=templatePart.rawName.slice(3);return new EventPart(instance,node,eventName)}const lastChar=templatePart.name.substr(templatePart.name.length-1);if("$"===lastChar){const name=templatePart.name.slice(0,-1);return new AttributePart(instance,node,name,templatePart.strings)}if("?"===lastChar){const name=templatePart.name.slice(0,-1);return new BooleanAttributePart(instance,node,name,templatePart.strings)}return new PropertyPart(instance,node,templatePart.rawName,templatePart.strings)}return defaultPartCallback(instance,templatePart,node)};_exports.extendedPartCallback=extendedPartCallback;class BooleanAttributePart extends AttributePart{setValue(values,startIndex){const s=this.strings;if(2===s.length&&""===s[0]&&""===s[1]){const value=getValue(this,values[startIndex]);if(value===directiveValue){return}if(value){this.element.setAttribute(this.name,"")}else{this.element.removeAttribute(this.name)}}else{throw new Error("boolean attributes can only contain a single expression")}}}_exports.BooleanAttributePart=BooleanAttributePart;class PropertyPart extends AttributePart{setValue(values,startIndex){const s=this.strings;let value;if(this._equalToPreviousValues(values,startIndex)){return}if(2===s.length&&""===s[0]&&""===s[1]){value=getValue(this,values[startIndex])}else{value=this._interpolate(values,startIndex)}if(value!==directiveValue){this.element[this.name]=value}this._previousValues=values}}_exports.PropertyPart=PropertyPart;class EventPart{constructor(instance,element,eventName){this.instance=instance;this.element=element;this.eventName=eventName}setValue(value){const listener=getValue(this,value);if(listener===this._listener){return}if(null==listener){this.element.removeEventListener(this.eventName,this)}else if(null==this._listener){this.element.addEventListener(this.eventName,this)}this._listener=listener}handleEvent(event){if("function"===typeof this._listener){this._listener.call(this.element,event)}else if("function"===typeof this._listener.handleEvent){this._listener.handleEvent(event)}}}_exports.EventPart=EventPart;_exports.$litExtended={html:html$1,svg:svg$1,extendedPartCallback:extendedPartCallback,BooleanAttributePart:BooleanAttributePart,PropertyPart:PropertyPart,EventPart:EventPart,render:render};function renderAttributes(element,attrInfo){for(const a in attrInfo){const v=!0===attrInfo[a]?"":attrInfo[a];if(v||""===v||0===v){if(element.getAttribute(a)!==v){element.setAttribute(a,v)}}else if(element.hasAttribute(a)){element.removeAttribute(a)}}}function classString(classInfo){const o=[];for(const name in classInfo){const v=classInfo[name];if(v){o.push(name)}}return o.join(" ")}function styleString(styleInfo){const o=[];for(const name in styleInfo){const v=styleInfo[name];if(v||0===v){o.push(`${camelToDashCase(name)}: ${v}`)}}return o.join("; ")}class LitElement extends PropertiesMixin(HTMLElement){constructor(){super(...arguments);this.__renderComplete=null;this.__resolveRenderComplete=null;this.__isInvalid=!1;this.__isChanging=!1}ready(){this._root=this._createRoot();super.ready();this._firstRendered()}_firstRendered(){}_createRoot(){return this.attachShadow({mode:"open"})}_shouldPropertiesChange(_props,_changedProps,_prevProps){const shouldRender=this._shouldRender(_props,_changedProps,_prevProps);if(!shouldRender&&this.__resolveRenderComplete){this.__resolveRenderComplete(!1)}return shouldRender}_shouldRender(){return!0}_propertiesChanged(props,changedProps,prevProps){super._propertiesChanged(props,changedProps,prevProps);const result=this._render(props);if(result&&this._root!==void 0){this._applyRender(result,this._root)}this._didRender(props,changedProps,prevProps);if(this.__resolveRenderComplete){this.__resolveRenderComplete(!0)}}_flushProperties(){this.__isChanging=!0;this.__isInvalid=!1;super._flushProperties();this.__isChanging=!1}_shouldPropertyChange(property,value,old){const change=super._shouldPropertyChange(property,value,old);if(change&&this.__isChanging){console.trace(`Setting properties in response to other properties changing `+`considered harmful. Setting '${property}' from `+`'${this._getProperty(property)}' to '${value}'.`)}return change}_render(){throw new Error("_render() not implemented")}_applyRender(result,node){render$1(result,node,this.localName)}_didRender(){}_requestRender(){this._invalidateProperties()}_invalidateProperties(){this.__isInvalid=!0;super._invalidateProperties()}get renderComplete(){if(!this.__renderComplete){this.__renderComplete=new Promise(resolve=>{this.__resolveRenderComplete=value=>{this.__resolveRenderComplete=this.__renderComplete=null;resolve(value)}});if(!this.__isInvalid&&this.__resolveRenderComplete){Promise.resolve().then(()=>this.__resolveRenderComplete(!1))}}return this.__renderComplete}}_exports.LitElement=LitElement;_exports.$litElement={renderAttributes:renderAttributes,classString:classString,styleString:styleString,LitElement:LitElement,html:html$1};const keyMapCache=new WeakMap;function cleanMap(part,key,map){if(!part.startNode.parentNode){map.delete(key)}}function repeat(items,keyFnOrTemplate,template){let keyFn;if(2===arguments.length){template=keyFnOrTemplate}else if(3===arguments.length){keyFn=keyFnOrTemplate}return directive(part=>{if(!(part instanceof NodePart)){throw new Error("repeat can only be used on NodeParts")}let keyMap=keyMapCache.get(part);if(keyMap===void 0){keyMap=new Map;keyMapCache.set(part,keyMap)}const container=part.startNode.parentNode;let index=-1,currentMarker=part.startNode.nextSibling;for(const item of items){let result,key;try{++index;result=template(item,index);key=keyFn?keyFn(item):index}catch(e){console.error(e);continue}let itemPart=keyMap.get(key);if(itemPart===void 0){const marker=document.createTextNode(""),endNode=document.createTextNode("");container.insertBefore(marker,currentMarker);container.insertBefore(endNode,currentMarker);itemPart=new NodePart(part.instance,marker,endNode);if(key!==void 0){keyMap.set(key,itemPart)}}else if(currentMarker!==itemPart.startNode){const end=itemPart.endNode.nextSibling;if(currentMarker!==end){reparentNodes(container,itemPart.startNode,end,currentMarker)}}else{currentMarker=itemPart.endNode.nextSibling}itemPart.setValue(result)}if(currentMarker!==part.endNode){removeNodes(container,currentMarker,part.endNode);keyMap.forEach(cleanMap)}})}_exports.$repeat={repeat:repeat};var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;_exports.$_freeGlobalDefault=freeGlobal;_exports.$_freeGlobal={default:freeGlobal};var freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();_exports.$_rootDefault=root;_exports.$_root={default:root};var Symbol$1=root.Symbol;_exports.$_SymbolDefault=Symbol$1;_exports.$_Symbol={default:Symbol$1};var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0}catch(e){}var result=nativeObjectToString.call(value);if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}return result}_exports.$_getRawTag={default:getRawTag};var objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(value){return nativeObjectToString$1.call(value)}_exports.$_objectToString={default:objectToString};var symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(value){if(null==value){return value===void 0?"[object Undefined]":"[object Null]"}return symToStringTag$1&&symToStringTag$1 in Object(value)?getRawTag(value):objectToString(value)}_exports.$_baseGetTag={default:baseGetTag};function overArg(func,transform){return function(arg){return func(transform(arg))}}_exports.$_overArg={default:overArg};var getPrototype=overArg(Object.getPrototypeOf,Object);_exports.$_getPrototypeDefault=getPrototype;_exports.$_getPrototype={default:getPrototype};function isObjectLike(value){return null!=value&&"object"==typeof value}_exports.$isObjectLike={default:isObjectLike};var funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!="[object Object]"){return!1}var proto=getPrototype(value);if(null===proto){return!0}var Ctor=hasOwnProperty$1.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}_exports.$isPlainObject={default:isPlainObject};const connect=store=>baseElement=>class extends baseElement{connectedCallback(){this.__storeUnsubscribe=store.subscribe(()=>this._stateChanged(store.getState()));this._stateChanged(store.getState());if(super.connectedCallback){super.connectedCallback()}}disconnectedCallback(){this.__storeUnsubscribe();if(super.disconnectedCallback){super.disconnectedCallback()}}_stateChanged(){throw new Error("_stateChanged() not implemented",this)}};_exports.connect=connect;_exports.$connectMixin={connect:connect};const updateMetadata=({title,description,url,image})=>{if(title){document.title=title;_setMeta("property","og:title",document.title);_setMeta("property","twitter:title",document.title)}if(description){_setMeta("property","og:description",description);_setMeta("property","twitter:description",description)}if(image){_setMeta("property","og:image",image);_setMeta("property","twitter:image:src",image)}url=url||document.location.href;_setMeta("property","og:url",url);_setMeta("property","twitter:url",url)};_exports.updateMetadata=updateMetadata;function _setMeta(attrName,attrValue,content){let element=document.head.querySelector(`meta[${attrName}="${attrValue}"]`);if(!element){element=document.createElement("meta");element.setAttribute(attrName,attrValue);document.head.appendChild(element)}element.setAttribute("content",content||"")}_exports.$metadata={updateMetadata:updateMetadata};const installOfflineWatcher=offlineUpdatedCallback=>{window.addEventListener("online",()=>offlineUpdatedCallback(!1));window.addEventListener("offline",()=>offlineUpdatedCallback(!0));offlineUpdatedCallback(!1===navigator.onLine)};_exports.installOfflineWatcher=installOfflineWatcher;_exports.$network={installOfflineWatcher:installOfflineWatcher};const installRouter=locationUpdatedCallback=>{document.body.addEventListener("click",e=>{if(e.defaultPrevented||0!==e.button||e.metaKey||e.ctrlKey||e.shiftKey)return;const anchor=e.composedPath().filter(n=>"A"===n.tagName)[0];if(!anchor||anchor.target||anchor.hasAttribute("download")||"external"===anchor.getAttribute("rel"))return;const href=anchor.href;if(!href||-1!==href.indexOf("mailto:"))return;const location=window.location,origin=location.origin||location.protocol+"//"+location.host;if(0!==href.indexOf(origin))return;e.preventDefault();if(href!==location.href){window.history.pushState({},"",href);locationUpdatedCallback(location,e)}});window.addEventListener("popstate",e=>locationUpdatedCallback(window.location,e));locationUpdatedCallback(window.location,null)};_exports.installRouter=installRouter;_exports.$router={installRouter:installRouter};function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){if("function"===typeof action){return action(dispatch,getState,extraArgument)}return next(action)}}}}var thunk=createThunkMiddleware();_exports.$indexDefault=thunk;thunk.withExtraArgument=createThunkMiddleware;_exports.$index={default:thunk};function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key]}if(0===funcs.length){return function(arg){return arg}}if(1===funcs.length){return funcs[0]}return funcs.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}_exports.$compose={default:compose};var _extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key]}return function(createStore){return function(reducer,preloadedState,enhancer){var store=createStore(reducer,preloadedState,enhancer),_dispatch=store.dispatch,chain=[],middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};chain=middlewares.map(function(middleware){return middleware(middlewareAPI)});_dispatch=compose.apply(void 0,chain)(store.dispatch);return _extends({},store,{dispatch:_dispatch})}}}_exports.$applyMiddleware={default:applyMiddleware};function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"===typeof actionCreators){return bindActionCreator(actionCreators,dispatch)}if("object"!==typeof actionCreators||null===actionCreators){throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+". "+"Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?")}for(var keys=Object.keys(actionCreators),boundActionCreators={},i=0;i<keys.length;i++){var key=keys[i],actionCreator=actionCreators[key];if("function"===typeof actionCreator){boundActionCreators[key]=bindActionCreator(actionCreator,dispatch)}}return boundActionCreators}_exports.$bindActionCreators={default:bindActionCreators};function symbolObservablePonyfill(root){var result,Symbol=root.Symbol;if("function"===typeof Symbol){if(Symbol.observable){result=Symbol.observable}else{result=Symbol("observable");Symbol.observable=result}}else{result="@@observable"}return result}_exports.$ponyfill={default:symbolObservablePonyfill};var root$1;if("undefined"!==typeof self){root$1=self}else if("undefined"!==typeof window){root$1=window}else if("undefined"!==typeof global){root$1=global}else if("undefined"!==typeof module){root$1=module}else{root$1=Function("return this")()}var result=symbolObservablePonyfill(root$1);_exports.$indexDefault$1=result;_exports.$index$2={default:result};var ActionTypes={INIT:"@@redux/INIT"};_exports.ActionTypes=ActionTypes;function createStore(reducer,preloadedState,enhancer){var _ref2;if("function"===typeof preloadedState&&"undefined"===typeof enhancer){enhancer=preloadedState;preloadedState=void 0}if("undefined"!==typeof enhancer){if("function"!==typeof enhancer){throw new Error("Expected the enhancer to be a function.")}return enhancer(createStore)(reducer,preloadedState)}if("function"!==typeof reducer){throw new Error("Expected the reducer to be a function.")}var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){if(nextListeners===currentListeners){nextListeners=currentListeners.slice()}}function getState(){return currentState}function subscribe(listener){if("function"!==typeof listener){throw new Error("Expected listener to be a function.")}var isSubscribed=!0;ensureCanMutateNextListeners();nextListeners.push(listener);return function(){if(!isSubscribed){return}isSubscribed=!1;ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}function dispatch(action){if(!isPlainObject(action)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if("undefined"===typeof action.type){throw new Error("Actions may not have an undefined \"type\" property. "+"Have you misspelled a constant?")}if(isDispatching){throw new Error("Reducers may not dispatch actions.")}try{isDispatching=!0;currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0,listener;i<listeners.length;i++){listener=listeners[i];listener()}return action}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(nextReducer){if("function"!==typeof nextReducer){throw new Error("Expected the nextReducer to be a function.")}currentReducer=nextReducer;dispatch({type:ActionTypes.INIT})}},_ref2[result]=function(){var _ref,outerSubscribe=subscribe;return _ref={subscribe:function(observer){if("object"!==typeof observer){throw new TypeError("Expected the observer to be an object.")}function observeState(){if(observer.next){observer.next(getState())}}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[result]=function(){return this},_ref},_ref2}_exports.$createStore={ActionTypes:ActionTypes,default:createStore};function warning(message){if("undefined"!==typeof console&&"function"===typeof console.error){console.error(message)}try{throw new Error(message)}catch(e){}}_exports.$warning={default:warning};function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type,actionName=actionType&&"\""+actionType.toString()+"\""||"an action";return"Given action "+actionName+", reducer \""+key+"\" returned undefined. "+"To ignore an action, you must explicitly return the previous state. "+"If you want this reducer to hold no value, you can return null instead of undefined."}function getUnexpectedStateShapeWarningMessage(inputState,reducers,action,unexpectedKeyCache){var reducerKeys=Object.keys(reducers),argumentName=action&&action.type===ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===reducerKeys.length){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!isPlainObject(inputState)){return"The "+argumentName+" has unexpected type of \""+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+"\". Expected argument to be an object with the following "+("keys: \""+reducerKeys.join("\", \"")+"\"")}var unexpectedKeys=Object.keys(inputState).filter(function(key){return!reducers.hasOwnProperty(key)&&!unexpectedKeyCache[key]});unexpectedKeys.forEach(function(key){unexpectedKeyCache[key]=!0});if(0<unexpectedKeys.length){return"Unexpected "+(1<unexpectedKeys.length?"keys":"key")+" "+("\""+unexpectedKeys.join("\", \"")+"\" found in "+argumentName+". ")+"Expected to find one of the known reducer keys instead: "+("\""+reducerKeys.join("\", \"")+"\". Unexpected keys will be ignored.")}}function assertReducerShape(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key],initialState=reducer(void 0,{type:ActionTypes.INIT});if("undefined"===typeof initialState){throw new Error("Reducer \""+key+"\" returned undefined during initialization. "+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined. If you don't want to set a value for this reducer, "+"you can use null instead of undefined.")}var type="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"===typeof reducer(void 0,{type:type})){throw new Error("Reducer \""+key+"\" returned undefined when probed with a random type. "+("Don't try to handle "+ActionTypes.INIT+" or other actions in \"redux/*\" ")+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined, but can be null.")}})}function combineReducers(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0,key;i<reducerKeys.length;i++){key=reducerKeys[i];if("production"!==process.env.NODE_ENV){if("undefined"===typeof reducers[key]){warning("No reducer provided for key \""+key+"\"")}}if("function"===typeof reducers[key]){finalReducers[key]=reducers[key]}}var finalReducerKeys=Object.keys(finalReducers),unexpectedKeyCache=void 0;if("production"!==process.env.NODE_ENV){unexpectedKeyCache={}}var shapeAssertionError;try{assertReducerShape(finalReducers)}catch(e){shapeAssertionError=e}return function(){var state=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},action=arguments[1];if(shapeAssertionError){throw shapeAssertionError}if("production"!==process.env.NODE_ENV){var warningMessage=getUnexpectedStateShapeWarningMessage(state,finalReducers,action,unexpectedKeyCache);if(warningMessage){warning(warningMessage)}}for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if("undefined"===typeof nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey;hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}}_exports.$combineReducers={default:combineReducers};function isCrushed(){}if("production"!==process.env.NODE_ENV&&"string"===typeof isCrushed.name&&"isCrushed"!==isCrushed.name){warning("You are currently using minified code outside of NODE_ENV === 'production'. "+"This means that you are running a slower development build of Redux. "+"You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify "+"or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) "+"to ensure you have the correct code for your production build.")}_exports.$index$1={createStore:createStore,combineReducers:combineReducers,bindActionCreators:bindActionCreators,applyMiddleware:applyMiddleware,compose:compose};const UPDATE_CARDS="UPDATE_CARDS";_exports.UPDATE_CARDS=UPDATE_CARDS;const SHOW_CARD="SHOW_CARD";_exports.SHOW_CARD=SHOW_CARD;const GET_RIGHT="GET_RIGHT";_exports.GET_RIGHT=GET_RIGHT;const GET_WRONG="GET_WRONG";_exports.GET_WRONG=GET_WRONG;const SAVE_CHOICES="SAVE_CHOICES";_exports.SAVE_CHOICES=SAVE_CHOICES;const loadAll=()=>function(){var _ref3=babelHelpers.asyncToGenerator(function*(dispatch,getState){console.log("loading json files");dispatch((yield loadFile("Words")));console.log("finished loading json files");const state=getState();dispatch(showNewCard(state.data.activeCard))});return function(){return _ref3.apply(this,arguments)}}();_exports.loadAll=loadAll;function loadFile(){return _loadFile.apply(this,arguments)}function _loadFile(){_loadFile=babelHelpers.asyncToGenerator(function*(name){const resp=yield fetch(`/src/data/${name}.json`),data=yield resp.json();return{type:UPDATE_CARDS,cards:data,hint:name}});return _loadFile.apply(this,arguments)}const showNewCard=card=>(dispatch,getState)=>{if(!card||card.index===void 0){card=getNewCard(getState())}dispatch({type:SHOW_CARD,card})};_exports.showNewCard=showNewCard;const getRight=card=>{return{type:GET_RIGHT,card}};_exports.getRight=getRight;const getWrong=card=>{return{type:GET_WRONG,card}};_exports.getWrong=getWrong;const saveAvailableTypes=categories=>(dispatch,getState)=>{if(categories){dispatch({type:SAVE_CHOICES,categories})}else{const state=getState();dispatch({type:SAVE_CHOICES,categories:Object.keys(state.data.cards)})}};_exports.saveAvailableTypes=saveAvailableTypes;function getNewCard(state){const cards=state.data.cards;let categories=state.data.categories&&0!==state.data.categories.length?state.data.categories:Object.keys(cards),showSettings=state.app.showSettings,randomCard=pickCardFromCategories(cards,state.data.stats,categories,showSettings);while(null===randomCard.index&&0!==categories.length){categories=categories.filter(item=>item!==randomCard.hint);if(0!==categories.length)randomCard=pickCardFromCategories(cards,state.data.stats,categories,showSettings)}if(null!==randomCard.index){return randomCard}if(0===categories.length){categories=Object.keys(cards);const pickedCategory=_Mathfloor(Math.random()*categories.length),hint=categories[pickedCategory],filteredCards=cards[hint],whichOne=_Mathfloor(Math.random()*filteredCards.length),index=getIndexOfCard(filteredCards[whichOne],cards[hint]);return{hint:hint,index:index}}}function getIndexOfCard(card,cards){for(let i=0;i<cards.length;i++){if(card==cards[i]){return i}}}function pickCardFromCategories(cards,stats,categories,showSettings){let pickedCategory=_Mathfloor(Math.random()*categories.length),hint=categories[pickedCategory],cardsForCategory=cards[hint],statsForCategory=stats?stats[hint]:[],filteredCards;if("onlyNew"===showSettings){filteredCards=cardsForCategory.filter(card=>statsForCategory[card.jp]===void 0)}else if("mostlyRight"===showSettings){filteredCards=cardsForCategory.filter(card=>statsForCategory[card.jp]&&statsForCategory[card.jp].right>statsForCategory[card.jp].wrong)}else if("mostlyWrong"===showSettings){filteredCards=cardsForCategory.filter(card=>statsForCategory[card.jp]&&statsForCategory[card.jp].right<statsForCategory[card.jp].wrong)}else{filteredCards=cardsForCategory}if(0===filteredCards.length){return{hint:hint,index:null}}const whichOne=_Mathfloor(Math.random()*filteredCards.length),index=getIndexOfCard(filteredCards[whichOne],cardsForCategory);return{hint:hint,index:index}}_exports.$data={UPDATE_CARDS:UPDATE_CARDS,SHOW_CARD:SHOW_CARD,GET_RIGHT:GET_RIGHT,GET_WRONG:GET_WRONG,SAVE_CHOICES:SAVE_CHOICES,loadAll:loadAll,showNewCard:showNewCard,getRight:getRight,getWrong:getWrong,saveAvailableTypes:saveAvailableTypes};const UPDATE_PAGE="UPDATE_PAGE";_exports.UPDATE_PAGE=UPDATE_PAGE;const UPDATE_OFFLINE="UPDATE_OFFLINE";_exports.UPDATE_OFFLINE=UPDATE_OFFLINE;const OPEN_SNACKBAR="OPEN_SNACKBAR";_exports.OPEN_SNACKBAR=OPEN_SNACKBAR;const CLOSE_SNACKBAR="CLOSE_SNACKBAR";_exports.CLOSE_SNACKBAR=CLOSE_SNACKBAR;const SAVE_SHOW_ANSWER="SAVE_SHOW_ANSWER";_exports.SAVE_SHOW_ANSWER=SAVE_SHOW_ANSWER;const SAVE_SHOW_SETTINGS="SAVE_SHOW_SETTINGS";_exports.SAVE_SHOW_SETTINGS=SAVE_SHOW_SETTINGS;const SAVE_SAY_SETTINGS="SAVE_SAY_SETTINGS";_exports.SAVE_SAY_SETTINGS=SAVE_SAY_SETTINGS;const LOAD_STATS="LOAD_STATS";_exports.LOAD_STATS=LOAD_STATS;const navigate=path=>dispatch=>{const page="/"===path?"play":path.slice(1);dispatch(loadPage(page))};_exports.navigate=navigate;const loadPage=page=>function(){var _ref4=babelHelpers.asyncToGenerator(function*(dispatch){switch(page){case"play":yield new Promise((res,rej)=>_require.default(["./play-page.js"],res,rej)).then(bundle=>bundle&&bundle.$playPage||{});break;case"stats":yield new Promise((res,rej)=>_require.default(["./stats-page.js"],res,rej)).then(bundle=>bundle&&bundle.$statsPage||{});break;case"about":yield new Promise((res,rej)=>_require.default(["./about-page.js"],res,rej)).then(bundle=>bundle&&bundle.$aboutPage||{});break;default:page="view404";yield new Promise((res,rej)=>_require.default(["./my-view404.js"],res,rej)).then(bundle=>bundle&&bundle.$myView404||{});break;}dispatch(updatePage(page))});return function(){return _ref4.apply(this,arguments)}}(),updatePage=page=>{return{type:UPDATE_PAGE,page}};let snackbarTimer;const showSnackbar=()=>dispatch=>{dispatch({type:OPEN_SNACKBAR});clearTimeout(snackbarTimer);snackbarTimer=setTimeout(()=>dispatch({type:CLOSE_SNACKBAR}),3e3)};_exports.showSnackbar=showSnackbar;const updateOffline=offline=>{return{type:UPDATE_OFFLINE,offline}};_exports.updateOffline=updateOffline;const saveShowAnswer=shouldShow=>{return{type:SAVE_SHOW_ANSWER,shouldShow}};_exports.saveShowAnswer=saveShowAnswer;const saveShowSettings=showSettings=>{return{type:SAVE_SHOW_SETTINGS,showSettings}};_exports.saveShowSettings=saveShowSettings;const saveSaySettings=saySettings=>{return{type:SAVE_SAY_SETTINGS,saySettings}};_exports.saveSaySettings=saveSaySettings;_exports.$app={UPDATE_PAGE:UPDATE_PAGE,UPDATE_OFFLINE:UPDATE_OFFLINE,OPEN_SNACKBAR:OPEN_SNACKBAR,CLOSE_SNACKBAR:CLOSE_SNACKBAR,SAVE_SHOW_ANSWER:SAVE_SHOW_ANSWER,SAVE_SHOW_SETTINGS:SAVE_SHOW_SETTINGS,SAVE_SAY_SETTINGS:SAVE_SAY_SETTINGS,LOAD_STATS:LOAD_STATS,navigate:navigate,showSnackbar:showSnackbar,updateOffline:updateOffline,saveShowAnswer:saveShowAnswer,saveShowSettings:saveShowSettings,saveSaySettings:saveSaySettings};const app$1=(state={showSettings:"all",saySettings:"demand"},action)=>{switch(action.type){case UPDATE_PAGE:return Object.assign({},state,{page:action.page});case UPDATE_OFFLINE:return Object.assign({},state,{offline:action.offline});case OPEN_SNACKBAR:return Object.assign({},state,{snackbarOpened:!0});case CLOSE_SNACKBAR:return Object.assign({},state,{snackbarOpened:!1});case SAVE_SHOW_ANSWER:return Object.assign({},state,{showAnswer:action.shouldShow});case SAVE_SHOW_SETTINGS:let showSettings=action.showSettings;if("onlyNew"!==showSettings&&"all"!==showSettings&&"mostlyRight"!==showSettings&&"mostlyWrong"!==showSettings){showSettings="all"}return Object.assign({},state,{showSettings:showSettings});case SAVE_SAY_SETTINGS:let saySettings=action.saySettings;if("demand"!==saySettings&&"start"!==saySettings&&"end"!==saySettings){saySettings="demand"}return Object.assign({},state,{saySettings:saySettings});default:return state;}};_exports.$appDefault=app$1;_exports.$app$1={default:app$1};const saveState=state=>{let json=localStorage.getItem("__learn_japanese__")||"{}",stringifiedNewState=JSON.stringify(state);if("{}"!==(stringifiedNewState!=Math.pow(json,stringifiedNewState))){localStorage.setItem("__learn_japanese__",stringifiedNewState)}};_exports.saveState=saveState;const loadState=()=>{let json=localStorage.getItem("__learn_japanese__")||"{}",state=JSON.parse(json);if(state){if(state.app){state.app.snackbarOpened=!1}if(state.data&&!state.data.categories){state.data.categories=[]}return state}else{}};_exports.loadState=loadState;_exports.$localStorage={saveState:saveState,loadState:loadState};const compose$2=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose,store=createStore(state=>state,loadState(),compose$2(function(combineReducers$$1){return nextCreator=>{return(origReducer,preloadedState)=>{let lazyReducers={};const nextStore=nextCreator(origReducer,preloadedState);function addReducers(newReducers){this.replaceReducer(combineReducers$$1(lazyReducers=Object.assign({},lazyReducers,newReducers)))}return Object.assign({},nextStore,{addReducers})}}}(combineReducers),applyMiddleware(thunk)));_exports.store=store;store.addReducers({app:app$1});store.subscribe(()=>{saveState(store.getState())});_exports.$store={store:store};const app$3=(state={cards:{},stats:{},categories:[]},action)=>{switch(action.type){case UPDATE_CARDS:return Object.assign({},state,{cards:Object.assign({},state.cards,{[action.hint]:action.cards})});case LOAD_STATS:return Object.assign({},state,{stats:action.stats});case SHOW_CARD:return Object.assign({},state,{activeCard:action.card});case GET_RIGHT:case GET_WRONG:const newStats=stats(state.stats,action);return Object.assign({},state,{stats:newStats,activeCard:null});case SAVE_CHOICES:return Object.assign({},state,{categories:action.categories});default:return state;}};_exports.$dataDefault=app$3;const stats=(state={},action)=>{switch(action.type){case GET_RIGHT:case GET_WRONG:return Object.assign({},state,{[action.card.hint]:byHint(state[action.card.hint],action)});default:return state;}},byHint=(state={},action)=>{const card=action.card;switch(action.type){case GET_RIGHT:case GET_WRONG:if(""===card.question){return state}return Object.assign({},state,{[card.question]:question(state[card.question],action)});default:return state;}},question=(state={right:0,wrong:0},action)=>{switch(action.type){case GET_RIGHT:return{right:state.right+1,wrong:state.wrong};case GET_WRONG:return{right:state.right,wrong:state.wrong+1};default:return state;}};_exports.$data$1={default:app$3};class SnackBar extends LitElement{static get properties(){return{active:Boolean}}_render(){return html$1`
      <style>
      :host {
        display: block;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 12px;
        background-color: var(--app-dark-text-color);
        color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        text-align: center;
        will-change: transform;
        transform: translate3d(0, 100%, 0);
        transition-property: visibility, transform;
        transition-duration: 0.2s;
        visibility: hidden;
      }
      :host([active]) {
        visibility: visible;
        transform: translate3d(0, 0, 0);
      }
    </style>
    <slot></slot>
    `}}window.customElements.define("snack-bar",SnackBar);store.addReducers({data:app$3});class MyApp extends connect(store)(LitElement){_render({appTitle,_page,_snackbarOpened,_offline}){return html$1`
    <style>
      :host {
        --app-drawer-width: 256px;
        display: block;

        --app-primary-color: #FFFFFF;
        --app-dark-text-color: #293237;

        --app-header-background-color: #CE8400;
        --app-header-text-color: var(--app-dark-text-color);
        --app-header-selected-color: var(--app-primary-color);

        height: 100vh;
      }

      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background-color: var(--app-header-background-color);
        color: var(--app-header-text-color);
        display: flex;
        justify-content: space-between;
        padding: 0 24px;
        box-sizing: border-box;
      }

      [main-title] {
        font-family: 'Pacifico';
        text-transform: lowercase;
        font-size: 30px;
        text-align: left;
      }

      .toolbar-list {
        display: inline-block;
      }

      .toolbar-list a {
        display: inline-block;
        color: var(--app-header-text-color);
        text-decoration: none;
        line-height: 30px;
        padding: 4px 16px;
        font-size: 14px;
        font-weight: bold;
        text-transform: uppercase;
      }

      .toolbar-list a[selected] {
        color: var(--app-header-selected-color);
        border-bottom: 4px solid var(--app-header-selected-color);
      }

      .main-content {
        padding-top: 20px;
      }

      .main-content .page[active] {
        display: block;
      }

      .main-content .page {
        display: none;
      }

      /* Small layout */
      @media (max-width: 460px) {
        [main-title] {
          font-size: 26px;
        }
        .toolbar-list a {
          font-size: 12px;
          padding: 2px 4px;
        }
      }
    </style>

    <!-- Header -->
    <header>
      <span main-title>${appTitle}</span>
      <nav class="toolbar-list" role="navigation">
        <a selected?="${"play"===_page}" href="/play">Play</a>
        <a selected?="${"stats"===_page}" href="/stats">Stats</a>
        <a selected?="${"about"===_page}" href="/about">About</a>
      </nav>
    </header>

    <!-- Main content -->
    <main class="main-content" role="main">
      <play-page class="page" active?="${"play"===_page}"></play-page>
      <stats-page class="page" active?="${"stats"===_page}"></stats-page>
      <about-page class="page" active?="${"about"===_page}"></about-page>
      <my-view404 class="page" active?="${"view404"===_page}"></my-view404>
    </main>

    <snack-bar active?="${_snackbarOpened}">
        You are now ${_offline?"offline":"online"}.
    </snack-bar>
`}static get properties(){return{appTitle:String,_page:String,_snackbarOpened:Boolean,_offline:Boolean}}_firstRendered(){installRouter(location=>this._locationChanged(location));installOfflineWatcher(offline=>this._offlineChanged(offline));store.dispatch(loadAll())}_didRender(properties,changeList){if("_page"in changeList){const pageTitle=properties.appTitle+" - "+changeList._page;updateMetadata({title:pageTitle,description:pageTitle})}}_stateChanged(state){this._page=state.app.page;this._offline=state.app.offline;this._snackbarOpened=state.app.snackbarOpened}_offlineChanged(offline){if(this._offline===void 0||this._offline==offline){return}store.dispatch(updateOffline(offline));store.dispatch(showSnackbar())}_locationChanged(location){store.dispatch(navigate(window.decodeURIComponent(location.pathname)))}}window.customElements.define("my-app",MyApp);class PageViewElement extends LitElement{_shouldRender(props){return props.active}static get properties(){return{active:Boolean}}}_exports.PageViewElement=PageViewElement;_exports.$pageViewElement={PageViewElement:PageViewElement};const SharedStyles=html$1`
<style>
  :host {
    display: block;
    /* Add defaults so that these are set correctly in unit tests
    which don't set up <my-app> */
    background: var(--app-header-background-color, #FAE1D6);
    box-sizing: border-box;
    margin: 0 auto;
    padding: 40px;
    max-width: 600px;
  }
  a:link, a:visited {
    color: var(--app-header-selected-color, #C3134E);
    text-decoration: none;
    font-weight: bold;
  }
</style>
`;_exports.SharedStyles=SharedStyles;_exports.$sharedStyles={SharedStyles:SharedStyles}});